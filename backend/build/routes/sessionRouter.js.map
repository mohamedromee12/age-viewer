{"version":3,"file":"sessionRouter.js","names":["DatabaseService","require","sessionService","sessionRouter","req","res","next","get","sessionID","put","module","exports"],"sources":["../../src/routes/sessionRouter.js"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nconst DatabaseService = require('../services/databaseService');\nconst sessionService = require('../services/sessionService');\n\nfunction sessionRouter(req, res, next) {\n    if (sessionService.get(req.sessionID) == null) {\n        sessionService.put(req.sessionID, new DatabaseService());\n    }\n    next();\n}\n\nmodule.exports = sessionRouter;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,eAAe,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AAC9D,IAAMC,cAAc,GAAGD,OAAO,CAAC,4BAA4B,CAAC;AAE5D,SAASE,aAAaA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnC,IAAIJ,cAAc,CAACK,GAAG,CAACH,GAAG,CAACI,SAAS,CAAC,IAAI,IAAI,EAAE;IAC3CN,cAAc,CAACO,GAAG,CAACL,GAAG,CAACI,SAAS,EAAE,IAAIR,eAAe,CAAC,CAAC,CAAC;EAC5D;EACAM,IAAI,CAAC,CAAC;AACV;AAEAI,MAAM,CAACC,OAAO,GAAGR,aAAa"}